###############################################################################

### GLOBAL SETTINGS ###########################################################

# Uncomment the following line to use case-sensitive completion.
CASE_SENSITIVE="true"

# Uncomment to enable automatic upgrades
#DISABLE_UPDATE_PROMPT=true

# Uncomment the following line to enable command auto-correction.
ENABLE_CORRECTION="true"

# Uncomment the following line if you want to change the command execution time
# stamp shown in the history command output.
# The optional three formats: "mm/dd/yyyy"|"dd.mm.yyyy"|"yyyy-mm-dd"
HIST_STAMPS="dd/mm/yyyy"

# Set language
#export LC_ALL=en_US.UTF-8
#export LANG=en_US.UTF-8

# Set default editor
export EDITOR='vim'
export VISUAL='vim'

# Set AUTO_CD
setopt AUTO_CD

###############################################################################

### GLOBAL PATH ###############################################################

typeset -U path
path=(~/bin /usr/local/sbin $path[@])

###############################################################################

### SECRETS ##################################################################

[[ -f ${HOME}/.zsh/secrets.zsh ]] && . ${HOME}/.zsh/secrets.zsh

###############################################################################

### PLUGINS ###################################################################

[[ -f ${HOME}/.zsh/plugins.zsh ]] && . ${HOME}/.zsh/plugins.zsh

###############################################################################

### LISTING ###################################################################

ls_colors="${HOME}/.config/dircolors/gruvbox"

# set time format
timestyle='--time-style="+%Y-%m-%d %H:%M:%S"'

###############################################################################

### OS CONFIG #################################################################

{{- if eq .chezmoi.os "darwin" }}

# configure homebrew path and completions for zsh
BREW_PREFIX=$(brew --prefix)
PATH="${BREW_PREFIX}/opt/curl/bin:${PATH}"
PATH="${BREW_PREFIX}/opt/sqlite/bin:${PATH}"
PATH="${BREW_PREFIX}/opt/ruby/bin:${PATH}"
PATH="${BREW_PREFIX}/lib/ruby/gems/3.0.0/bin:${PATH}"
export PATH
export FPATH=${BREW_PREFIX}/share/zsh/site-functions:${FPATH}

# configure file listing
eval "$(gdircolors ${ls_colors})"
alias ls='gls -v --color=auto'

{{- else eq .chezmoi.os "linux" }}

# Start keychain ssh-agent
if type keychain &>/dev/null; then
    eval $(keychain --eval --quiet --nogui --noask norville_at_github norville_at_gitlab)
fi

# configure file listing
eval "$(dircolors ${ls_colors})"
alias ls='ls -v --color=auto'

{{- else eq .chezmoi.os "windows" }}
# windows
{{- end }}

###############################################################################

### ALIASES ###################################################################

alias la="ls -halF ${timestyle}"
alias ll="ls -hAlF ${timestyle}"
alias lr="ls -hAlFR ${timestyle}"
alias lt="ls -hAlFt ${timestyle}"

###############################################################################
