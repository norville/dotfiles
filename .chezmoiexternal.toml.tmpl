# =============================================================================
# Chezmoi External Files Configuration
# =============================================================================
# This file defines external resources to download and manage
# Chezmoi will automatically download and keep these files updated
#
# Documentation: https://www.chezmoi.io/reference/special-files-and-directories/chezmoiexternal-format/
# =============================================================================

# -----------------------------------------------------------------------------
# ZSH Plugin Manager
# -----------------------------------------------------------------------------

# Antidote - ZSH plugin manager (from GitHub)
[".local/share/antidote"]
    type = "git-repo"
    url = "https://github.com/mattmc3/antidote.git"
    refreshPeriod = "0"      # Never refresh
    [".local/share/antidote".clone]
        args = ["--depth=1"]

# -----------------------------------------------------------------------------
# Color Schemes and Themes
# -----------------------------------------------------------------------------
# Download and manage color schemes for various applications

# Tokyo Night theme for bat (syntax highlighting)
[".config/bat/themes/tokyonight_moon.tmTheme"]
    type = "file"
    url = "https://raw.githubusercontent.com/folke/tokyonight.nvim/main/extras/sublime/tokyonight_moon.tmTheme"
    refreshPeriod = "720h"
    executable = false

# Tokyo Night theme for eza (ls replacement)
[".config/eza/theme.yml"]
    type = "file"
    url = "https://raw.githubusercontent.com/folke/tokyonight.nvim/main/extras/eza/tokyonight_moon.yml"
    refreshPeriod = "720h"
    executable = false

# Tokyo Night theme for btop (system monitor)
[".config/btop/themes/tokyonight_moon.theme"]
    type = "file"
    url = "https://raw.githubusercontent.com/folke/tokyonight.nvim/main/extras/btop/tokyonight_moon.theme"
    refreshPeriod = "720h"
    executable = false

{{- /* ========================================================================== */ -}}
{{- /* macOS-Specific External Files                                              */ -}}
{{- /* ========================================================================== */ -}}
{{- if eq .chezmoi.os "darwin" }}
# -----------------------------------------------------------------------------
# macOS External Resources
# -----------------------------------------------------------------------------

{{- end }}

{{- /* ========================================================================== */ -}}
{{- /* Linux-Specific External Files                                              */ -}}
{{- /* ========================================================================== */ -}}
{{- if eq .chezmoi.os "linux" }}
# -----------------------------------------------------------------------------
# Linux External Resources
# -----------------------------------------------------------------------------

# Nerd Font (JetBrains Mono)
{{- if or (eq .packageManager "apt") (eq .packageManager "dnf") }}
# For distributions without Nerd Fonts in repositories

# JetBrains Mono - Official Release (non-patched)
[".local/share/fonts/JetBrainsMono/official"]
    type = "archive"
    url = "https://github.com/JetBrains/JetBrainsMono/releases/download/v2.304/JetBrainsMono-2.304.zip"
    stripComponents = 2             # Ignore top two directories
    include = ["fonts/ttf/*.ttf"]   # Only include TTF files
    refreshPeriod = "720h"

# JetBrains Mono Nerd Font - Patched with Nerd Font icons
[".local/share/fonts/JetBrainsMono/nerd"]
    type = "archive"
    url = "https://github.com/ryanoasis/nerd-fonts/releases/latest/download/JetBrainsMono.tar.xz"
    stripComponents = 0     # Keep directory structure
    include = ["*.ttf"]     # Only include TTF files
    refreshPeriod = "720h"

{{- end }}
{{- end }}

{{- /* ========================================================================== */ -}}
{{- /* Windows-Specific External Files                                            */ -}}
{{- /* ========================================================================== */ -}}
{{- if eq .chezmoi.os "windows" }}
# -----------------------------------------------------------------------------
# Windows External Resources
# -----------------------------------------------------------------------------

{{- end }}

# =============================================================================
# External Resources Management Notes
# =============================================================================
#
# Commands:
#   chezmoi apply           - Download and install all external resources
#   chezmoi update          - Update all external resources if refresh period expired
#   chezmoi verify          - Check if external resources need updating
#
# Refresh Period Format:
#   "0"      - Never refresh (only download once)
#   "168h"   - Refresh weekly
#   "720h"   - Refresh monthly
#   "8760h"  - Refresh yearly
#
# =============================================================================
